Firmware for Wemos D1 R1
Прошивка для Wemos D1 R1
+ WiFi
+ Web Server
+ MQTT Client
+ OTA
+ Релейные модули (до 4х)
+ Получение текущего времени со своего сервера

WiFi может быть прописано несколько точек доступа, программа сканирует доступные, и подключается к первой, которая доступна, чья конфигурация прописана.

MQTT может быть прописано несколько серверов, подключается к первому, у которого указано active=1.
Топик генерируется из global.json + devices.json.
global.json:
<p>
{
    "object": "My_House1",
    "room": "Bedroom",
    "device": "Light"
}
</p>
devices.json:
<p>
{
    "device1":
    {
        "type": "Relay",
        "pin": "D3",
        "name": "Light",
        "description": "Свет",
        "on": "LOW"
    }
}
</p>
<p>В этом случае следует передавать для включения
My_House1/Bedroom/Light/Light/set со значениями "on" или "off".
</p>
<p>Параметр "on" в device.json означает отсутсвие ("LOW") или подача ("HIGH") напряжения на соответствующий пин.
</p>
<p>Web server в 1й версии без защиты паролем. Позволяет просмартивать и редактировать содержимое файлов. Файлы, которые хранятся, это конфигурации (wifi, devices, global, mqtt, ota, time)
</p>
+ http://<device_ip>/spiffs - файловый менеджер
+ http://<device_ip>/reset - ресет

<p>OTA работает в паре с сервером, где должен находиться скрипт, управляющий версиями и устройствами.</p>

<p>Если хотите помочь проекту или есть вопросы, обращайтесь sbitza@gmail.com</p>


